{% extends 'base.html' %}
{% block title %}Admin – Audit Log{% endblock %}
{% block content %}
<h2 class="mb-3">Audit Log</h2>

<table class="table table-sm align-middle">
  <thead class="table-dark">
    <tr><th>Zeit</th><th>User</th><th>Aktion</th><th>Zieltyp</th><th>ID</th><th>Details</th></tr>
  </thead>
  <tbody>
  {% for log in logs %}
    <tr>
      <td>{{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
      <td>{{ log.user_id }}</td>
      <td>{{ log.action }}</td>
      <td>{{ log.target_type }}</td>
      <td>{{ log.target_id }}</td>
      <td>{{ log.details }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<nav aria-label="Audit Pagination">
  <ul class="pagination justify-content-center mt-4">
    {% if has_prev %}
      <li class="page-item"><a class="page-link" href="{{ url_for('admin.audit', page=page-1) }}">« Zurück</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Seite {{ page }}</span></li>
    {% if has_next %}
      <li class="page-item"><a class="page-link" href="{{ url_for('admin.audit', page=page+1) }}">Weiter »</a></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
